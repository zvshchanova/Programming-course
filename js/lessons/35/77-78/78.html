<!-- Задание 78: 
GET
Для получения файла с сервера смотрите документацию. Все запросы на этом АПИ требует авторизацию с помощью Bearer token. см. выше.
Подсказка 2: Get запрос. Для него необходимо знать key  файла. Он присылается при успешной загрузке файла на сервер. Так же это конечная часть ccылки на файл. Ссылку на файл всегда можно увидеть в вашем личном кабинете: https://www.file.io/me
 Например https://www.file.io/Xjzu/download/jBVDCPnkYBk2  значит что ключ файла jBVDCPnkYBk2
          https://www.file.io/tmLH/download/CUxxTr2l2u7b
PUT
Обновление файла. (заменяет файл или обновляет параметры или и то и другое)
Для обновления файла используйте PUT запрос. Вся информация есть в документации. 
Подсказка 3: Необходимо указать ключ обновляемого файла (Он является Path Param). Из документации: PUT  https://file.io/%7Bkey%7D
Подсказка 4: Тело запроса такое же как и в запросе POST, можно отправлять пустые значения, по логике обновится должны те параметры которые есть в теле.
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form>
        <input type="file" id="myFile"></input><br><br>
        <!-- accept=".jpg, .txt" -->
        <button type="submit">Upload file</button>
        <!-- <button onclick="funcPost()" type="submit">Upload file 1</button> -->
    </form>
    <button onclick="funcGet()">Get file</button>
    <button onclick="funcPut()">Put file</button>
</body>
<script>
    async function funcGet() {
        let url ='https://file.io/me' //    200    "&json=true"
        //let url = 'https://file.io/%7BCUxxTr2l2u7b%7D'
        //  let url = 'https://file.io/'  // 200 size 618
        //let url = 'https://file.io/4GB2GywxgHv7'  
        // let data = new FormData()
        // data.append('key','4GB2GywxgHv7')

        fetch(url, {
                method: "GET",
                headers: {
                    'Authorization': 'Bearer D6MFL5D.T3XYEET-VJR4A6P-K09V985-982VYRC',
                    //'accept': 'application/json',
                },
                //body: data
            })
            .then(res => res.json())
            .then(data => console.log(data))
            .catch(err => console.log(err))
    };

    async function funcPost() {
        let file = document.getElementById("myFile").files[0];
        let expires = "2022-10-10";
        let maxDownloads = 1;
        let autoDelete = true;
        let data = new FormData()
        data.append('file', file)
        data.append('expires', expires)
        data.append('maxDownloads', maxDownloads)
        data.append('autoDelete',autoDelete)   
        let url = 'https://file.io/';
        fetch(url, {
                method: "POST",
                headers: {
                    'Authorization': 'Bearer D6MFL5D.T3XYEET-VJR4A6P-K09V985-982VYRC',
                  //  'Content-type': 'multipart/form-data'
                },
                body: data
            })
            .then(res => res.json())
            .then(data => console.log(data))
            .catch(err => console.log(err))
    };
    function funcPut() {
        let file = document.getElementById("myFile").files[0];
        let expires = "2022-10-11";
        let maxDownloads = 1;
        let autoDelete = true;
        let data = new FormData()
        //data.append('key', "emwKa7g3twmq")
        //data.append('expires', expires)
        //data.append('maxDownloads', maxDownloads)
        //data.append('autoDelete',autoDelete)   
        let url = 'https://file.io/emwKa7g3twmq';
        fetch(url, {
                method: "PUT",
                headers: {
                    'Authorization': 'Bearer D6MFL5D.T3XYEET-VJR4A6P-K09V985-982VYRC',
                    // 'Content-type': 'multipart/form-data',
                    // 'accept': 'application/json',
                },
                body: data
            })
            .then(res => res.json())
            .then(data => console.log(data))
            .catch(err => console.log(err))
    };
    document.querySelector("form").addEventListener('submit',
        function (e) {
            e.preventDefault();
             funcPost()
        })
</script>

</html>